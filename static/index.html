<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>EXBLOB - Blob Explorer</title>
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@700&display=swap"
            rel="stylesheet"
        />
        <link rel="stylesheet" href="/css/styles.css" />
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    </head>
    <body>
        <header>
            <div class="header-content">
                <div class="header-left">
                    <div class="logo">EXBLOB</div>
                    <span class="header-subtitle">
                        Blob transaction explorer for
                        <a
                            href="https://eips.ethereum.org/EIPS/eip-4844"
                            target="_blank"
                            >EIP-4844</a
                        >
                    </span>
                </div>
                <div class="header-right">
                    <div class="time-picker">
                        <button class="time-picker-btn" id="time-picker-btn">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                            >
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="12 6 12 12 16 14"></polyline>
                            </svg>
                            <span id="time-picker-label">Last 1 hour</span>
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                viewBox="0 0 24 24"
                                fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                style="width: 12px; height: 12px"
                            >
                                <polyline points="6 9 12 15 18 9"></polyline>
                            </svg>
                        </button>
                        <div
                            class="time-picker-dropdown"
                            id="time-picker-dropdown"
                        >
                            <div class="time-picker-section">
                                <div class="time-picker-label">
                                    Quick ranges
                                </div>
                                <button
                                    class="time-picker-option active"
                                    data-hours="1"
                                    data-label="Last 1 hour"
                                >
                                    Last 1 hour
                                </button>
                                <button
                                    class="time-picker-option"
                                    data-hours="3"
                                    data-label="Last 3 hours"
                                >
                                    Last 3 hours
                                </button>
                                <button
                                    class="time-picker-option"
                                    data-hours="6"
                                    data-label="Last 6 hours"
                                >
                                    Last 6 hours
                                </button>
                                <button
                                    class="time-picker-option"
                                    data-hours="12"
                                    data-label="Last 12 hours"
                                >
                                    Last 12 hours
                                </button>
                                <button
                                    class="time-picker-option"
                                    data-hours="24"
                                    data-label="Last 24 hours"
                                >
                                    Last 24 hours
                                </button>
                            </div>
                            <div class="time-picker-section">
                                <div class="time-picker-label">
                                    Longer ranges
                                </div>
                                <button
                                    class="time-picker-option"
                                    data-hours="48"
                                    data-label="Last 2 days"
                                >
                                    Last 2 days
                                </button>
                                <button
                                    class="time-picker-option"
                                    data-hours="168"
                                    data-label="Last 7 days"
                                >
                                    Last 7 days
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="status">
                        <div class="status-dot"></div>
                        <span id="last-update">Connecting...</span>
                    </div>
                </div>
            </div>
        </header>

        <div class="container">
            <div class="stats-grid">
                <div class="stat-card">
                    <h3>Total Blobs</h3>
                    <div class="value teal" id="total-blobs">-</div>
                </div>
                <div class="stat-card">
                    <h3>Total Blob Size</h3>
                    <div class="value blue" id="total-blob-size">-</div>
                </div>
                <div class="stat-card">
                    <h3>Avg Blobs/Block</h3>
                    <div class="value mauve" id="avg-blobs">-</div>
                </div>
                <div class="stat-card">
                    <h3>Latest Block</h3>
                    <div class="value green" id="latest-block">-</div>
                </div>
                <div class="stat-card">
                    <h3>Blob Gas Price</h3>
                    <div class="value yellow" id="avg-gas">-</div>
                </div>
            </div>

            <div class="charts-grid">
                <div class="chart-card">
                    <h2>Blobs per Block</h2>
                    <div class="chart-container">
                        <canvas id="blobs-chart"></canvas>
                    </div>
                </div>
                <div class="chart-card">
                    <h2>Blob Gas Price (Gwei)</h2>
                    <div class="chart-container">
                        <canvas id="gas-chart"></canvas>
                    </div>
                </div>
            </div>

            <div class="chart-card" style="margin-bottom: 2rem">
                <h2>Blobs by Chain</h2>
                <div class="chart-container" style="height: 300px">
                    <canvas id="chain-chart"></canvas>
                </div>
            </div>

            <div class="tables-grid">
                <div class="table-card">
                    <h2>Latest Blob Transactions</h2>
                    <div class="table-scroll">
                        <table>
                            <thead>
                                <tr>
                                    <th>Tx Hash</th>
                                    <th>Block</th>
                                    <th>Chain</th>
                                    <th>Blobs</th>
                                    <th>Size</th>
                                    <th>Gas Price</th>
                                </tr>
                            </thead>
                            <tbody id="blob-txs-table"></tbody>
                        </table>
                    </div>
                </div>
                <div class="table-card">
                    <h2>Top Senders</h2>
                    <div class="table-scroll">
                        <table>
                            <thead>
                                <tr>
                                    <th>Chain</th>
                                    <th>Address</th>
                                    <th>Txs</th>
                                    <th>Blobs</th>
                                    <th>Total Size</th>
                                </tr>
                            </thead>
                            <tbody id="senders-table"></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div class="table-card" style="margin-top: 2rem">
                <h2>Recent Blocks</h2>
                <div class="table-scroll">
                    <table>
                        <thead>
                            <tr>
                                <th>Block</th>
                                <th>Time</th>
                                <th>Txs</th>
                                <th>Blobs</th>
                                <th>Blob Size</th>
                                <th>Gas Price</th>
                            </tr>
                        </thead>
                        <tbody id="blocks-table"></tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Block Detail Modal -->
        <div class="modal-overlay" id="block-modal">
            <div class="modal">
                <div class="modal-header">
                    <h2>Block Details</h2>
                    <button class="modal-close" id="modal-close">
                        <svg
                            xmlns="http://www.w3.org/2000/svg"
                            width="20"
                            height="20"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                            stroke-linecap="round"
                            stroke-linejoin="round"
                        >
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </button>
                </div>
                <div class="modal-body" id="modal-body"></div>
            </div>
        </div>

        <script src="/js/app.js?v=2"></script>
    </body>
</html>
